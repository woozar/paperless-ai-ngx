# SonarQube Project Configuration
# Dynamic values (host.url, projectKey, token) are provided via CLI in scripts/sonar-analysis.sh

sonar.projectName=Paperless AI NGX
# Version is provided via CLI from package.json

# Multi-module setup so lcov paths (relative to each app) match source paths
sonar.modules=web,mcp-server

# --- Web module ---
web.sonar.projectBaseDir=apps/web
web.sonar.sources=.
web.sonar.tests=.
web.sonar.test.inclusions=**/*.test.ts,**/*.test.tsx
web.sonar.exclusions=**/node_modules/**,**/.next/**,**/dist/**,**/*.test.ts,**/*.test.tsx,**/coverage/**,**/components/ui/**,**/*.css,**/*.config.ts,**/*.config.js,**/config.ts,**/config.js,**/vitest.setup.ts,**/instrumentation.ts,**/test-utils/**,**/_components/index.ts,**/lib/api/schemas/index.ts,**/lib/scheduler/index.ts,**/locales/**
web.sonar.cpd.exclusions=**/*.test.ts,**/*.test.tsx
web.sonar.javascript.lcov.reportPaths=coverage/lcov.info
web.sonar.typescript.tsconfigPath=tsconfig.json

# --- MCP Server module ---
mcp-server.sonar.projectBaseDir=apps/mcp-server
mcp-server.sonar.sources=.
mcp-server.sonar.tests=.
mcp-server.sonar.test.inclusions=**/*.test.ts
mcp-server.sonar.exclusions=**/node_modules/**,**/dist/**,**/*.test.ts,**/coverage/**,**/*.config.ts,src/index.ts
mcp-server.sonar.cpd.exclusions=**/*.test.ts
mcp-server.sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Global settings
sonar.language=ts
sonar.sourceEncoding=UTF-8
